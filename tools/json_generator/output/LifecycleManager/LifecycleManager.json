{
    "$schema": "https://raw.githubusercontent.com/rdkcentral/entservices-apis/refs/heads/main/tools/md_generator/json2md/schemas/interface.schema.json",
    "jsonrpc": "2.0",
    "info": {
        "title": "LifecycleManagerState API",
        "class": "org.rdk.LifecycleManager",
        "description": "The `LifecycleManagerState` this is responsible for maintaining the states of Application."
    },
    "common": {
        "$ref": "../common/common.json"
    },
    "definitions": {
        "appId": {
            "type": "string",
            "description": "The unique identifier of the application to check.",
            "example": "YouTube"
        },
        "appInstanceId": {
            "type": "string",
            "description": "Instance identifier of the application",
            "example": "80df148e-b52e-4c0f-8964-0de4c090426f"
        },
        "navigationIntent": {
            "type": "string",
            "description": "Intent string for navigation or state transition.",
            "example": "launch_home"
        },
        "AppCloseReason": {
          "summary": "Possible close reasons of an application",
          "type": "string",
          "enum": [
                "USER_EXIT",
                "ERROR",
                "KILL_AND_RUN",
                "KILL_AND_ACTIVATE"
            ]
        }
    },
    "methods": {
        "appReady": {
            "summary": "Response API call to appInitializing API",
            "params": {
                "type": "object",
                "properties": {
                    "appId": {
                    "$ref": "#/definitions/appId"
                    }
                },
                "required": ["appId"]
            },
            "result": {
                "description": "Returns null on success or an error code string on failure.",
                "$ref": "#/common/results/void"
            }
        },
        "stateChangeComplete": {
            "summary": "Response API call to appLifecycleStateChanged API",
            "params": {
                "type": "object",
                "properties": {
                    "appId": {
                    "$ref": "#/definitions/appId"
                    },
                    "stateChangedId": {
                        "type": "integer",
                        "summary": "State changed identifier",
                        "example": 101
                    },
                    "success": {
                        "type": "boolean",
                        "summary": "Indicates whether the state change was successful",
                        "example": true
                    }
                },
                "required": ["appId", "stateChangedId", "success"]
            },
            "result": {
                "description": "Returns null on success or an error code string on failure.",
                "$ref": "#/common/results/void"
            }
        },
        "closeApp": {
            "summary": "Close the app",
            "params": {
                "type": "object",
                "properties": {
                    "appId": {
                        "$ref": "#/definitions/appId"
                    },
                    "closeReason": {
                        "$ref": "#/definitions/AppCloseReason"
                    }
                },
                "required": ["appId", "closeReason"]
            },
            "result": {
                "description": "Returns null on success or an error code string on failure.",
                "$ref": "#/common/results/void"
            }
        }
    },
    "events": {
        "onAppLifecycleStateChanged": {
            "summary": "Triggered when the lifecycle state of an application changes.",
            "params": {
                "type": "object",
                "properties": {
                    "appId": { "$ref": "#/definitions/appId" },
                    "appInstanceId": { "$ref": "#/definitions/appInstanceId" },
                    "newState": {
                      "type": "string",
                      "enum": [
                        "UNLOADED",
                        "LOADING",
                        "INITIALIZING",
                        "PAUSED",
                        "ACTIVE",
                        "SUSPENDED",
                        "HIBERNATED",
                        "TERMINATING"
                      ],
                      "example": "ACTIVE"
                    },
                    "oldState": {
                      "type": "string",
                      "enum": [
                        "UNLOADED",
                        "LOADING",
                        "INITIALIZING",
                        "PAUSED",
                        "ACTIVE",
                        "SUSPENDED",
                        "HIBERNATED",
                        "TERMINATING"
                      ],
                      "example": "UNLOADED"
                    },
                    "navigationIntent": { "$ref": "#/definitions/navigationIntent" }
                },
                "required": ["appId", "appInstanceId", "oldState", "newState"]
            }
        }
    }
}

